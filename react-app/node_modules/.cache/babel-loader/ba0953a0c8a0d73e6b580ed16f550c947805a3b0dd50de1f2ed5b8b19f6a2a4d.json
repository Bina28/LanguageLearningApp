{"ast":null,"code":"import React from\"react\";import{Link,useResolvedPath,useMatch}from\"react-router-dom\";import\"./Navbar.css\";import{useLogout}from\"../LoginSignup/Logout\";import{useNavigate}from\"react-router-dom\";import{useEffect,useState}from\"react\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Navbar(){const[isAuthenticated,setIsAuthenticated]=useState(!!localStorage.getItem(\"user\"));const[authUpdated,setAuthUpdated]=useState(false);const logout=useLogout();const navigate=useNavigate();useEffect(()=>{setIsAuthenticated(!!localStorage.getItem(\"user\"));});const handleLogout=()=>{logout();localStorage.removeItem(\"user\");setIsAuthenticated(false);setAuthUpdated(prev=>!prev);navigate(\"/login\");};return/*#__PURE__*/_jsxs(\"nav\",{className:\"nav\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"logo\",children:\"Logo\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(CustomLink,{to:\"/\",children:\"Home\"}),isAuthenticated?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CustomLink,{to:\"/courses\",children:\"Courses\"}),/*#__PURE__*/_jsx(CustomLink,{to:\"/user\",children:\"User Page\"}),/*#__PURE__*/_jsx(\"li\",{onClick:handleLogout,className:\"logout-button\",children:\"Log out\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CustomLink,{to:\"/login\",onClick:()=>setAuthUpdated(prev=>!prev),children:\"Login\"}),/*#__PURE__*/_jsx(CustomLink,{to:\"/signup\",children:\"Sign Up\"})]})]})]});}function CustomLink(_ref){let{to,children,onClick}=_ref;const resolvedPath=useResolvedPath(to);const isActive=useMatch({path:resolvedPath.pathname,end:true});return/*#__PURE__*/_jsx(\"li\",{className:isActive?\"active\":\"\",onClick:onClick,children:/*#__PURE__*/_jsx(Link,{to:to,children:children})});}","map":{"version":3,"names":["React","Link","useResolvedPath","useMatch","useLogout","useNavigate","useEffect","useState","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Navbar","isAuthenticated","setIsAuthenticated","localStorage","getItem","authUpdated","setAuthUpdated","logout","navigate","handleLogout","removeItem","prev","className","children","to","CustomLink","onClick","_ref","resolvedPath","isActive","path","pathname","end"],"sources":["C:/Users/dyako/OneDrive/Skrivebord/StudyProjects/LanguageLearningApp/react-app/src/Components/Nav/Navbar.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { Link, useResolvedPath, useMatch } from \"react-router-dom\";\r\nimport \"./Navbar.css\";\r\nimport { useLogout } from \"../LoginSignup/Logout\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function Navbar() {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(!!localStorage.getItem(\"user\"));\r\n  const [authUpdated, setAuthUpdated] = useState(false); \r\n  const logout = useLogout();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    setIsAuthenticated(!!localStorage.getItem(\"user\"));\r\n  }); \r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    localStorage.removeItem(\"user\");\r\n    setIsAuthenticated(false);\r\n    setAuthUpdated(prev => !prev); \r\n    navigate(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <nav className=\"nav\">\r\n      <Link to=\"/\" className=\"logo\">Logo</Link>\r\n      <ul>\r\n        <CustomLink to=\"/\">Home</CustomLink>\r\n        {isAuthenticated ? (\r\n          <>\r\n            <CustomLink to=\"/courses\">Courses</CustomLink>\r\n            <CustomLink to=\"/user\">User Page</CustomLink>\r\n            <li onClick={handleLogout} className=\"logout-button\">Log out</li>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <CustomLink to=\"/login\" onClick={() => setAuthUpdated(prev => !prev)}>Login</CustomLink>\r\n            <CustomLink to=\"/signup\">Sign Up</CustomLink>\r\n          </>\r\n        )}\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n\r\ninterface CustomLinkProps {\r\n  to: string;\r\n  children: React.ReactNode;\r\n  onClick?: () => void;\r\n}\r\n\r\nfunction CustomLink({ to, children, onClick }: CustomLinkProps) {\r\n  const resolvedPath = useResolvedPath(to);\r\n  const isActive = useMatch({ path: resolvedPath.pathname, end: true });\r\n\r\n  return (\r\n    <li className={isActive ? \"active\" : \"\"} onClick={onClick}>\r\n      <Link to={to}>{children}</Link>\r\n    </li>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}