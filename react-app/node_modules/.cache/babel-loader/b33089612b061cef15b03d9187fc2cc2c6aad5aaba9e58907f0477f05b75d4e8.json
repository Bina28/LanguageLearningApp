{"ast":null,"code":"import{Routes,Route}from\"react-router-dom\";import{useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import Navbar from\"./Components/Nav/Navbar\";import Login from\"./Components/LoginSignup/Login\";import SignUp from\"./Components/LoginSignup/SignUp\";import Home from\"./Components/Home/Home\";import UserPage from\"./Components/UserPage/UserPage\";import Courses from\"./Components/Courses/Courses\";import Cards from\"./Components/Cards/Cards\";import UserCourses from\"./Components/UserCourses/UserCourses\";import{UserProgressProvider}from\"./Components/UserProgressContext\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const navigate=useNavigate();useEffect(()=>{const storedUser=localStorage.getItem(\"user\");const expiresAt=localStorage.getItem(\"expiresAt\");if(!storedUser||!expiresAt){return;}const now=Date.now();if(now>parseInt(expiresAt,10)){localStorage.removeItem(\"user\");localStorage.removeItem(\"expiresAt\");alert(\"Session expired. Please log in again.\");navigate(\"/login\");}},[navigate]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(UserProgressProvider,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(SignUp,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user\",element:/*#__PURE__*/_jsx(UserPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/courses\",element:/*#__PURE__*/_jsx(Courses,{})}),/*#__PURE__*/_jsx(Route,{path:\"/courses/:courseId\",element:/*#__PURE__*/_jsx(Cards,{})}),/*#__PURE__*/_jsx(Route,{path:\"/usercourses\",element:/*#__PURE__*/_jsx(UserCourses,{})})]})})]});}export default App;","map":{"version":3,"names":["Routes","Route","useEffect","useNavigate","Navbar","Login","SignUp","Home","UserPage","Courses","Cards","UserCourses","UserProgressProvider","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","navigate","storedUser","localStorage","getItem","expiresAt","now","Date","parseInt","removeItem","alert","children","path","element"],"sources":["C:/Users/dyako/OneDrive/Skrivebord/StudyProjects/LanguageLearningApp/react-app/src/App.tsx"],"sourcesContent":["import { Routes, Route } from \"react-router-dom\";\r\nimport { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Navbar from \"./Components/Nav/Navbar\";\r\nimport Login from \"./Components/LoginSignup/Login\";\r\nimport SignUp from \"./Components/LoginSignup/SignUp\";\r\nimport Home from \"./Components/Home/Home\";\r\nimport UserPage from \"./Components/UserPage/UserPage\";\r\nimport Courses from \"./Components/Courses/Courses\";\r\nimport Cards from \"./Components/Cards/Cards\";\r\nimport UserCourses from \"./Components/UserCourses/UserCourses\";\r\nimport { UserProgressProvider } from \"./Components/UserProgressContext\";\r\n\r\nfunction App() {\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const storedUser: string | null = localStorage.getItem(\"user\");\r\n    const expiresAt: string | null = localStorage.getItem(\"expiresAt\");\r\n\r\n    if (!storedUser || !expiresAt) {\r\n      return;\r\n    }\r\n\r\n    const now: number = Date.now();\r\n    if (now > parseInt(expiresAt, 10)) {\r\n      localStorage.removeItem(\"user\");\r\n      localStorage.removeItem(\"expiresAt\");\r\n      alert(\"Session expired. Please log in again.\");\r\n      navigate(\"/login\");\r\n    }\r\n  }, [navigate]);\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <UserProgressProvider>\r\n        <Routes>\r\n          <Route path=\"/\" element={<Home />} />\r\n          <Route path=\"/login\" element={<Login />} />\r\n          <Route path=\"/signup\" element={<SignUp />} />\r\n          <Route path=\"/user\" element={<UserPage />} />\r\n          <Route path=\"/courses\" element={<Courses />} />\r\n          <Route path=\"/courses/:courseId\" element={<Cards />} />\r\n          <Route path=\"/usercourses\" element={<UserCourses />} />\r\n\r\n        </Routes>\r\n      </UserProgressProvider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,OAASA,MAAM,CAAEC,KAAK,KAAQ,kBAAkB,CAChD,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,MAAM,KAAM,yBAAyB,CAC5C,MAAO,CAAAC,KAAK,KAAM,gCAAgC,CAClD,MAAO,CAAAC,MAAM,KAAM,iCAAiC,CACpD,MAAO,CAAAC,IAAI,KAAM,wBAAwB,CACzC,MAAO,CAAAC,QAAQ,KAAM,gCAAgC,CACrD,MAAO,CAAAC,OAAO,KAAM,8BAA8B,CAClD,MAAO,CAAAC,KAAK,KAAM,0BAA0B,CAC5C,MAAO,CAAAC,WAAW,KAAM,sCAAsC,CAC9D,OAASC,oBAAoB,KAAQ,kCAAkC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAExE,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAAAC,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAE9BD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAmB,UAAyB,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAC9D,KAAM,CAAAC,SAAwB,CAAGF,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAElE,GAAI,CAACF,UAAU,EAAI,CAACG,SAAS,CAAE,CAC7B,OACF,CAEA,KAAM,CAAAC,GAAW,CAAGC,IAAI,CAACD,GAAG,CAAC,CAAC,CAC9B,GAAIA,GAAG,CAAGE,QAAQ,CAACH,SAAS,CAAE,EAAE,CAAC,CAAE,CACjCF,YAAY,CAACM,UAAU,CAAC,MAAM,CAAC,CAC/BN,YAAY,CAACM,UAAU,CAAC,WAAW,CAAC,CACpCC,KAAK,CAAC,uCAAuC,CAAC,CAC9CT,QAAQ,CAAC,QAAQ,CAAC,CACpB,CACF,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd,mBACEJ,KAAA,CAAAE,SAAA,EAAAY,QAAA,eACEhB,IAAA,CAACV,MAAM,GAAE,CAAC,cACVU,IAAA,CAACF,oBAAoB,EAAAkB,QAAA,cACnBd,KAAA,CAAChB,MAAM,EAAA8B,QAAA,eACLhB,IAAA,CAACb,KAAK,EAAC8B,IAAI,CAAC,GAAG,CAACC,OAAO,cAAElB,IAAA,CAACP,IAAI,GAAE,CAAE,CAAE,CAAC,cACrCO,IAAA,CAACb,KAAK,EAAC8B,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAElB,IAAA,CAACT,KAAK,GAAE,CAAE,CAAE,CAAC,cAC3CS,IAAA,CAACb,KAAK,EAAC8B,IAAI,CAAC,SAAS,CAACC,OAAO,cAAElB,IAAA,CAACR,MAAM,GAAE,CAAE,CAAE,CAAC,cAC7CQ,IAAA,CAACb,KAAK,EAAC8B,IAAI,CAAC,OAAO,CAACC,OAAO,cAAElB,IAAA,CAACN,QAAQ,GAAE,CAAE,CAAE,CAAC,cAC7CM,IAAA,CAACb,KAAK,EAAC8B,IAAI,CAAC,UAAU,CAACC,OAAO,cAAElB,IAAA,CAACL,OAAO,GAAE,CAAE,CAAE,CAAC,cAC/CK,IAAA,CAACb,KAAK,EAAC8B,IAAI,CAAC,oBAAoB,CAACC,OAAO,cAAElB,IAAA,CAACJ,KAAK,GAAE,CAAE,CAAE,CAAC,cACvDI,IAAA,CAACb,KAAK,EAAC8B,IAAI,CAAC,cAAc,CAACC,OAAO,cAAElB,IAAA,CAACH,WAAW,GAAE,CAAE,CAAE,CAAC,EAEjD,CAAC,CACW,CAAC,EACvB,CAAC,CAEP,CAEA,cAAe,CAAAQ,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}