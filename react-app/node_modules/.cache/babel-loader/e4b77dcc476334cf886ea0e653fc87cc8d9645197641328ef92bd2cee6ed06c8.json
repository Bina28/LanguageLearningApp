{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dyako\\\\OneDrive\\\\Skrivebord\\\\StudyProjects\\\\LanguageLearningApp\\\\react-app\\\\src\\\\Components\\\\UserProgressContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserProgressContext = /*#__PURE__*/createContext(undefined);\nexport const UserProgressProvider = ({\n  children\n}) => {\n  _s();\n  const [completedUnits, setCompletedUnits] = useState(0);\n  const refreshProgress = async () => {\n    try {\n      const userString = localStorage.getItem(\"user\");\n      if (!userString) return;\n      const user = JSON.parse(userString);\n      const userId = user.id;\n      const response = await axios.get(`http://localhost:5117/api/auth/progress/${userId}`);\n      setCompletedUnits(response.data.completedUnits);\n    } catch (error) {\n      console.error(\"Error fetching completed units:\", error);\n    }\n  };\n  useEffect(() => {\n    refreshProgress();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(UserProgressContext.Provider, {\n    value: {\n      completedUnits,\n      refreshProgress\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(UserProgressProvider, \"54747VlNxnkMPZVlJjtkxsY5fSk=\");\n_c = UserProgressProvider;\nexport const useUserProgress = () => {\n  _s2();\n  const context = useContext(UserProgressContext);\n  if (!context) {\n    throw new Error(\"useUserProgress must be used within a UserProgressProvider\");\n  }\n  return context;\n};\n_s2(useUserProgress, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"UserProgressProvider\");","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","axios","jsxDEV","_jsxDEV","UserProgressContext","undefined","UserProgressProvider","children","_s","completedUnits","setCompletedUnits","refreshProgress","userString","localStorage","getItem","user","JSON","parse","userId","id","response","get","data","error","console","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useUserProgress","_s2","context","Error","$RefreshReg$"],"sources":["C:/Users/dyako/OneDrive/Skrivebord/StudyProjects/LanguageLearningApp/react-app/src/Components/UserProgressContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\ninterface UserProgressContextType {\r\n  completedUnits: number;\r\n  refreshProgress: () => void;\r\n}\r\n\r\nconst UserProgressContext = createContext<UserProgressContextType | undefined>(undefined);\r\n\r\nexport const UserProgressProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const [completedUnits, setCompletedUnits] = useState<number>(0);\r\n\r\n  const refreshProgress = async () => {\r\n    try {\r\n      const userString = localStorage.getItem(\"user\");\r\n      if (!userString) return;\r\n\r\n      const user = JSON.parse(userString);\r\n      const userId = user.id;\r\n\r\n      const response = await axios.get<{ completedUnits: number }>(\r\n        `http://localhost:5117/api/auth/progress/${userId}`\r\n      );\r\n\r\n      setCompletedUnits(response.data.completedUnits);\r\n    } catch (error) {\r\n      console.error(\"Error fetching completed units:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    refreshProgress();\r\n  }, []);\r\n\r\n  return (\r\n    <UserProgressContext.Provider value={{ completedUnits, refreshProgress }}>\r\n      {children}\r\n    </UserProgressContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useUserProgress = () => {\r\n  const context = useContext(UserProgressContext);\r\n  if (!context) {\r\n    throw new Error(\"useUserProgress must be used within a UserProgressProvider\");\r\n  }\r\n  return context;\r\n};\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC7E,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAO1B,MAAMC,mBAAmB,gBAAGP,aAAa,CAAsCQ,SAAS,CAAC;AAEzF,OAAO,MAAMC,oBAA6D,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC7F,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGV,QAAQ,CAAS,CAAC,CAAC;EAE/D,MAAMW,eAAe,GAAG,MAAAA,CAAA,KAAY;IAClC,IAAI;MACF,MAAMC,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MAC/C,IAAI,CAACF,UAAU,EAAE;MAEjB,MAAMG,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACL,UAAU,CAAC;MACnC,MAAMM,MAAM,GAAGH,IAAI,CAACI,EAAE;MAEtB,MAAMC,QAAQ,GAAG,MAAMnB,KAAK,CAACoB,GAAG,CAC9B,2CAA2CH,MAAM,EACnD,CAAC;MAEDR,iBAAiB,CAACU,QAAQ,CAACE,IAAI,CAACb,cAAc,CAAC;IACjD,CAAC,CAAC,OAAOc,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IACzD;EACF,CAAC;EAEDxB,SAAS,CAAC,MAAM;IACdY,eAAe,CAAC,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACER,OAAA,CAACC,mBAAmB,CAACqB,QAAQ;IAACC,KAAK,EAAE;MAAEjB,cAAc;MAAEE;IAAgB,CAAE;IAAAJ,QAAA,EACtEA;EAAQ;IAAAoB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACmB,CAAC;AAEnC,CAAC;AAACtB,EAAA,CA9BWF,oBAA6D;AAAAyB,EAAA,GAA7DzB,oBAA6D;AAgC1E,OAAO,MAAM0B,eAAe,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACnC,MAAMC,OAAO,GAAGpC,UAAU,CAACM,mBAAmB,CAAC;EAC/C,IAAI,CAAC8B,OAAO,EAAE;IACZ,MAAM,IAAIC,KAAK,CAAC,4DAA4D,CAAC;EAC/E;EACA,OAAOD,OAAO;AAChB,CAAC;AAACD,GAAA,CANWD,eAAe;AAAA,IAAAD,EAAA;AAAAK,YAAA,CAAAL,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}